{"version":3,"file":"truck.controller.js","names":["require","response","request","Truck","getTrucks","req","res","findAll","where","enabled","trucks","status","json","msg","message","getTruckById","id","params","findByPk","truck","console","log","updateTruckById","body","numberPlate","model","color","truckName","enable","newTruck","save","deleteTruckById","deletedTruck","createTruck","create","module","exports"],"sources":["../../../src/controllers/scale/truck.controller.js"],"sourcesContent":["const { response, request } = require('express');\nconst Truck = require('../../models/scale/truck.model');\n\n\nconst getTrucks = async (req = request, res = response) => {\n    try {\n        const trucks = await Truck.findAll({ where: { enabled: true } });\n        res.status(200).json({\n            msg: 'Lista de vehiculos',\n            trucks\n        })\n    } catch (err) {\n        return res.status(500).json({ message: err.message });\n    }\n}\n\n\nconst getTruckById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params;\n        const truck = await Truck.findByPk(id);\n        if (truck != null) {\n            res.status(200).json({\n                msg: 'InformaciÃ³n del Vehiculo',\n                truck\n            });\n        } else {\n            console.log('Not found');\n            res.status(200).json({\n                msg: 'Vehiculo no encontrado, verifique id'\n            });\n        }\n\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` });\n    }\n}\n\n\nconst updateTruckById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params;\n        const { numberPlate, model, color, truckName, enable } = req.body;\n        const newTruck = await Truck.findByPk(id);\n\n        if (newTruck != null) {\n            console.log('found');\n\n            newTruck.numberPlate = numberPlate;\n            newTruck.model = model;\n            newTruck.color = color;\n            newTruck.truckName = truckName;\n            newTruck.enable = enable;\n\n            await newTruck.save();\n\n            res.status(200).json({\n                msg: 'Origen actualizado',\n                newTruck\n            });\n        } else {\n            console.log('Not found');\n            res.status(200).json({\n                msg: 'Trucko no encontrado, verifique id'\n            });\n        }\n\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` });\n    }\n}\n\n\nconst deleteTruckById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params;\n        const deletedTruck = await Truck.findByPk(id);\n        if (deletedTruck != null) {\n\n            deletedTruck.enabled = false;\n            deletedTruck.save();\n\n            res.status(202).json({\n                msg: `Vehiculo con Id: ${id}, eliminado.`\n            });\n        } else {\n            res.status(404).json({\n                msg: `El vehiculo con Id: ${id}, no encontrado, verifique el Id.`\n            })\n        }\n    } catch (err) {\n        return res.status(500).json({ message: err.message })\n    }\n}\n\n\nconst createTruck = async (req = request, res = response) => {\n    try {\n        const { numberPlate, model, color, enable } = req.body;\n\n        const newTruck = await Truck.create({\n            numberPlate, model, color, enable\n        });\n\n        res.status(201).json({\n            msg: 'Origen creado satisfactoriamente!',\n            newTruck\n        })\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` })\n    }\n\n}\n\n\n\nmodule.exports = {\n    getTrucks,\n    getTruckById,\n    updateTruckById,\n    deleteTruckById,\n    createTruck\n}"],"mappings":"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"}