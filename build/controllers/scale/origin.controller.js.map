{"version":3,"file":"origin.controller.js","names":["require","response","request","Origin","getOrigins","req","res","findAll","where","enabled","origins","status","json","msg","message","getOriginById","id","params","findByPk","origin","console","log","updateOriginById","body","originName","nit","enable","originUpdated","save","deleteOriginById","deletedOrigin","createOrigin","create","newOrigin","module","exports"],"sources":["../../../src/controllers/scale/origin.controller.js"],"sourcesContent":["const { response, request } = require('express');\nconst Origin = require('../../models/scale/origin.model');\n\n\nconst getOrigins = async (req = request, res = response) => {\n    try {\n        const origins = await Origin.findAll({ where: { enabled: true } });\n        res.status(200).json({\n            msg: 'Lista de origenes',\n            origins\n        })\n    } catch (err) {\n        return res.status(500).json({ message: err.message });\n    }\n}\n\n\nconst getOriginById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params;\n        const origin = await Origin.findByPk(id);\n\n        if (origin != null) {\n            res.status(200).json({\n                msg: 'InformaciÃ³n del origen',\n                origin\n            });\n        } else {\n            console.log('Not found');\n            res.status(200).json({\n                msg: 'Origen no encontrado, verifique id'\n            });\n        }\n\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` });\n    }\n}\n\n\nconst updateOriginById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params;\n        const { originName, nit, enable } = req.body;\n        const originUpdated = await Origin.findByPk(id);\n\n        if (originUpdated != null) {\n            console.log('found');\n            originUpdated.originName = originName;\n            originUpdated.nit = nit;\n            originUpdated.enable = enable;\n\n            await originUpdated.save();\n\n            res.status(200).json({\n                msg: 'Origen actualizado',\n                originUpdated\n            });\n        } else {\n            console.log('Not found');\n            res.status(200).json({\n                msg: 'Origen no encontrado, verifique id'\n            });\n        }\n\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` });\n    }\n}\n\n\nconst deleteOriginById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params;\n\n        const deletedOrigin = await Origin.findByPk(id)\n        if (deletedOrigin != null) {\n\n            deletedOrigin.enabled = false;\n            await deletedOrigin.save();\n\n            res.status(202).json({\n                msg: `El origen con Id: ${id}, ha sido eliminado.`\n            });\n        } else {\n            res.status(404).json({\n                msg: `El origen con Id: ${id}, no ha sido encontrado, verifique el Id ingresado nuevamente`\n            })\n        }\n    } catch (err) {\n        return res.status(500).json({ message: err.message })\n    }\n}\n\n\n\nconst createOrigin = async (req = request, res = response) => {\n    try {\n        const { originName } = req.body\n        const newOrigin = await Origin.create({\n            originName\n        });\n\n        res.status(201).json({\n            msg: 'Origen creado satisfactoriamente!',\n            newOrigin\n        })\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` })\n    }\n\n}\n\n\n\nmodule.exports = {\n    getOrigins,\n    getOriginById,\n    updateOriginById,\n    deleteOriginById,\n    createOrigin\n}"],"mappings":"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"}