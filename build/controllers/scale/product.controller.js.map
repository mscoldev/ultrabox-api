{"version":3,"file":"product.controller.js","names":["require","response","request","Product","getProducts","req","res","findAll","where","enabled","products","status","json","msg","message","getProductById","id","params","findByPk","product","console","log","updateProductById","body","productName","enable","density","productUpdated","save","deleteProductById","deletedProduct","createProduct","create","newProduct","module","exports"],"sources":["../../../src/controllers/scale/product.controller.js"],"sourcesContent":["const { response, request } = require('express');\nconst Product = require('../../models/scale/product.model');\n\n\nconst getProducts = async (req = request, res = response) => {\n    try {\n        const products = await Product.findAll({ where: { enabled: true } });\n        res.status(200).json({\n            msg: 'Lista de Productos',\n            products\n        })\n    } catch (err) {\n        return res.status(500).json({ message: err.message });\n    }\n}\n\n\nconst getProductById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params;\n        const product = await Product.findByPk(id);\n        if (product != null) {\n            res.status(200).json({\n                msg: 'InformaciÃ³n del producto',\n                product\n            });\n        } else {\n            console.log('Not found');\n            res.status(200).json({\n                msg: 'Producto no encontrado, verifique id'\n            });\n        }\n\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` });\n    }\n}\n\n//TODO: Agregar densidad a la desestructuracion\nconst updateProductById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params;\n        const { productName, enable, density } = req.body;\n        const productUpdated = await Product.findByPk(id);\n\n        if (productUpdated != null) {\n            console.log('found');\n            productUpdated.productName = productName;\n            productUpdated.enable = enable;\n            productUpdated.density = density;\n\n            await productUpdated.save();\n\n            res.status(200).json({\n                msg: 'Origen actualizado',\n                productUpdated\n            });\n        } else {\n            console.log('Not found');\n            res.status(200).json({\n                msg: 'Producto no encontrado, verifique id'\n            });\n        }\n\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` });\n    }\n}\n\nconst deleteProductById = async (req = request, res = response) => {\n    try {\n        const { id } = req.params\n\n        const deletedProduct = await Product.findByPk(id);\n        if (deletedProduct != null) {\n            deletedProduct.enabled = false;\n\n            await deletedProduct.save();\n\n            res.status(202).json({\n                msg: 'Producto eliminado Id:' + id\n            });\n        } else {\n            res.status(404).json({\n                msg: 'Producto no encontrado, verifique el Id ingresado'\n            })\n        }\n    } catch (err) {\n        return res.status(500).json({ message: err.message })\n    }\n}\n\n\n\nconst createProduct = async (req = request, res = response) => {\n    try {\n        const { productName, density } = req.body\n        const newProduct = await Product.create({\n            productName,\n            density\n        });\n\n        res.status(201).json({\n            msg: 'Origen creado satisfactoriamente!',\n            newProduct\n        })\n    } catch (err) {\n        return res.status(500).json({ message: `Se ha producido un error, ${err.message}` })\n    }\n\n}\n\n\n\nmodule.exports = {\n    getProducts,\n    getProductById,\n    updateProductById,\n    deleteProductById,\n    createProduct\n}"],"mappings":"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"}