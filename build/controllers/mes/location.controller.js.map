{"version":3,"file":"location.controller.js","names":["require","response","request","boom","Types","Location","getLocation","req","res","next","find","location","length","status","json","msg","notFound","createNewLocation","body","newLocation","save","message","updateLocationById","_id","params","findByIdAndUpdate","updateLocation","deleteLocationById","ObjectId","findByIdAndDelete","deletedLocation","module","exports"],"sources":["../../../src/controllers/mes/location.controller.js"],"sourcesContent":["const { response, request } = require(\"express\");\nconst boom = require('@hapi/boom');\nconst { Types } = require('mongoose');\nconst Location = require(\"../../models/mes/location.model\");\n\n\n\nconst getLocation = async (req = request, res = response, next) => {\n    try {\n        const location = await Location.find();\n        if (location.length !== 0) {\n            res.status(200).json({\n                msg: 'Lista de ubicaciones',\n                location\n            })\n        } else {\n            throw boom.notFound('Oops!, ubicaciones no encontradas')\n        }\n\n    } catch (err) {\n        next(err);\n    }\n}\n\nconst createNewLocation = async (req = request, res = response, next) => {\n\n    const body = req.body\n    try {\n        const newLocation = new Location(body);\n        const location = await newLocation.save();\n\n        res.status(201).json({\n            message: 'Nueva ubicación creada con exito!',\n            location\n        })\n    } catch (err) {\n        next(err);\n    }\n}\n\nconst updateLocationById = async (req = request, res = response, next) => {\n    try {\n        const _id = req.params._id;\n        const body = req.body;\n        const updateLocation = await Location.findByIdAndUpdate(_id, body, { new: true });\n        if (updateLocation != null) {\n            res.status(200).json({\n                msg: 'Linea de produccion actualizada por Id',\n                updateLocation\n            });\n        } else {\n            throw boom.notFound('Oops!, ubicacion no encontrada')\n        }\n    }\n    catch (err) {\n        next(err);\n    }\n\n}\n\nconst deleteLocationById = async (req = request, res = response, next) => {\n    try {\n        const _id = Types.ObjectId(req.params._id);\n        const deletedLocation = await Location.findByIdAndDelete(_id);\n        if (deletedLocation != null) {\n            res.status(202).json({\n                msg: 'Linea de producción eliminada Id:' + _id\n            });\n        } else {\n            throw boom.notFound('Oops!, ubicación no encontrada, verifique el id')\n        }\n    } catch (err) {\n        next(err);\n    }\n}\n\nmodule.exports = {\n    getLocation,\n    createNewLocation,\n    updateLocationById,\n    deleteLocationById\n}"],"mappings":"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"}