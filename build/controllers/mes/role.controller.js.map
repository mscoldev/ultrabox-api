{"version":3,"file":"role.controller.js","names":["require","response","request","Role","getRoles","req","res","find","roles","status","json","msg","message","getRoleById","findById","params","_id","role","updateRoleById","paramsId","body","findByIdAndUpdate","updatedRole","deleteRoleById","console","log","deleted","deletedRole","createRole","save","roleSaved","module","exports"],"sources":["../../../src/controllers/mes/role.controller.js"],"sourcesContent":["const { response, request } = require('express');\nconst Role = require(\"../../models/role.model\");\n\n\nconst getRoles = async (req = request, res = response) => {\n    try {\n        const roles = await Role.find({ \"deleted\": false });\n        res.status(200).json({\n            msg: 'List of Roles',\n            roles\n        })\n    } catch (err) {\n        return res.status(500).json({ message: err.message });\n    }\n}\n\nconst getRoleById = async (req = request, res = response) => {\n    const role = await Role.findById(req.params._id);\n    if (role != null) {\n        res.status(200).json({\n            msg: 'Role por Id',\n            role\n        });\n    } else {\n        res.status(404).json({\n            msg: 'Role no encontrado, verifique el Id ingresado'\n        })\n    }\n}\n\nconst updateRoleById = async (req = request, res = response) => {\n    try {\n        const paramsId = req.params._id;\n        const body = req.body;\n        const updatedRole = await Role.findByIdAndUpdate(paramsId, body, { new: true });\n        if (updatedRole != null) {\n            res.status(200).json({\n                msg: 'Role actualizado por Id',\n                updatedRole\n            });\n        } else {\n            res.status(404).json({\n                msg: 'Role no encontrado, verifique el Id ingresado'\n            })\n        }\n    } catch (err) {\n        return res.status(500).json({\n            message: err.message\n        })\n    }\n}\n\nconst deleteRoleById = async (req = request, res = response) => {\n    try {\n        const paramsId = req.params._id;\n        console.log(paramsId);\n        const body = { deleted: true }\n        const deletedRole = await Role.findByIdAndUpdate(paramsId, body);\n        console.log(deletedRole);\n        if (deletedRole != null) {\n            res.status(202).json({\n                msg: 'Role eliminado Id:' + paramsId\n            });\n        } else {\n            res.status(404).json({\n                msg: 'Role no encontrado, verifique el Id ingresado'\n            })\n        }\n    } catch (err) {\n        return res.status(500).json({ message: err.message })\n    }\n}\n\nconst createRole = async (req = request, res = response) => {\n    //TODO: Usar desestructuracion de objetos\n    try {\n        const body = req.body;\n        console.log(body);\n        const role = new Role(body);\n\n        const roleSaved = await role.save();\n\n        res.status(201).json({\n            msg: 'Role created successfully',\n            roleSaved\n        })\n    } catch (err) {\n        return res.status(500).json({ message: err.message })\n    }\n\n}\n\n\n\nmodule.exports = { createRole, getRoles, getRoleById, updateRoleById, deleteRoleById }"],"mappings":"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"}