{"version":3,"file":"acceptance.model.js","names":["require","model","Schema","pjAcceptanceSchema","_codeProjectERP","type","String","required","unique","_idProjectERP","Number","dateAcceptance","Date","now","serviceObject","dateInit","dateEnd","erpRef","client","purchaseOrder","own","proposal","company","Name","Position","Email","controller","contractor","deliverables","_id","description","compliance","accepted","Boolean","signatory","dateSign","citySign","officeSign","serviceValue","recommendations","typeAcceptance","stage","name","date","completed","rejectedMessage","by","_idFiles","ref","Types","ObjectId","timestamps","versionKey","index","module","exports"],"sources":["../../../src/models/projects/acceptance.model.js"],"sourcesContent":["const { model, Schema } = require('mongoose');\n\nconst pjAcceptanceSchema = Schema({\n  _codeProjectERP: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  _idProjectERP: {\n    type: Number,\n    required: true,\n    unique: true\n  },\n  dateAcceptance: {\n    type: Date,\n    required: true,\n    default: Date.now\n  },\n  serviceObject: {\n    type: String,\n    required: true\n  },\n  dateInit: {\n    type: Date,\n    required: true\n  },\n  dateEnd: {\n    type: Date,\n    required: true,\n    default: Date.now\n  },\n  erpRef: {\n    client: {\n      purchaseOrder: {\n        type: String,\n        required: true\n      }\n    },\n    own: {\n      proposal: {\n        type: String,\n        required: true\n      }\n    }\n  },\n  client: {\n    company: {\n      type: String,\n      required: true\n    },\n    Name: {\n      type: String,\n      required: true\n    },\n    Position: {\n      type: String,\n      required: true,\n      default: 'No especificado'\n    },\n    Email: {\n      type: String,\n      required: true\n    }\n  },\n  controller: {\n    Name: {\n      type: String,\n      required: false\n    },\n    Position: {\n      type: String,\n      required: false,\n      default: 'No especificado'\n    },\n    Email: {\n      type: String,\n      required: false\n    }\n  },\n  contractor: {\n    Name: {\n      type: String,\n      required: true\n    },\n    Position: {\n      type: String,\n      required: true\n    },\n    Email: {\n      type: String,\n      required: true\n    }\n  },\n  deliverables: [{\n    _id: {\n      type: String,\n      required: true\n    },\n    description: {\n      type: String,\n      required: true\n    },\n    compliance: {\n      type: Number,\n      required: true\n    },\n    accepted: {\n      type: Boolean,\n      required: true\n    }\n  }],\n  signatory: {\n    client: {\n      type: String,\n      required: false,\n      default: null\n    },\n    contractor: {\n      type: String,\n      required: false,\n      default: null\n    },\n    controller: {\n      type: String,\n      required: false,\n      default: null\n    }\n  },\n  dateSign: {\n    type: Date,\n    required: true,\n    default: Date.now\n  },\n  citySign: {\n    type: String,\n    required: true,\n    default: 'Barranquilla'\n  },\n  officeSign: {\n    type: String,\n    required: true,\n    default: 'del cliente'\n  },\n  serviceValue: {\n    type: Number,\n    required: true\n  },\n  recommendations: {\n    type: String,\n    required: true,\n    default: 'No se especificaron recomendaciones para el contratista'\n  },\n  typeAcceptance: {\n    type: String,\n    required: true\n  },\n  stage: [{\n    name: {\n      type: String,\n      required: true,\n    },\n    date: {\n      type: Date,\n      required: true,\n      default: Date.now\n    },\n    completed: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n  }],\n  rejectedMessage: [{\n    description: {\n      type: String\n    },\n    date: {\n      type: Date,\n      default: Date.now\n    },\n    by: {\n      type: String\n    }\n  }],\n  _idFiles: [{\n    ref: 'File',\n    type: Schema.Types.ObjectId,\n  }]\n}, {\n  timestamps: true,\n  versionKey: false\n});\n\n// Agrega un Ã­ndice en los campos _id y _codeProjectERP\npjAcceptanceSchema.index({ _id: 1, _codeProjectERP: 1 });\n\nmodule.exports = model('PjAcceptance', pjAcceptanceSchema);"],"mappings":"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"}