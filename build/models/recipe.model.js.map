{"version":3,"file":"recipe.model.js","names":["require","Schema","model","mongoose","AutoIncrement","recipeSchema","name","type","String","unique","required","erp_code","Number","_idControllerRecipe","deleted","Boolean","temp","ingredients","_idMaterial","Types","ObjectId","ref","qty","_idLocation","productionLineUse","timestamps","versionKey","plugin","inc_field","start_seq","Recipe","module","exports"],"sources":["../../src/models/recipe.model.js"],"sourcesContent":["const { Schema, model, mongoose } = require(\"mongoose\")\nconst AutoIncrement = require('mongoose-sequence')(mongoose);\n\nconst recipeSchema = Schema({\n  name: {\n    type: String,\n    unique: [true, 'El nombre de la receta debe ser único'],\n    required: [true, 'El nombre de la receta es obligatorio']\n  },\n  erp_code: {\n    type: Number,\n    required: [true, 'El codigo ERP es requerido'],\n    unique: [true, 'El erp_code debe ser único para la receta']\n  },\n  _idControllerRecipe: {\n    default: 0,\n    type: Number,\n    required: true,\n    unique: [true, 'Este id ya se encuentra registrado en otra receta']\n  },\n  deleted: {\n    type: Boolean,\n    required: [true, 'El estado deleted es requerido no puede dejarlo en blanco T/F'],\n    default: false,\n  },\n  temp: {\n    type: Boolean,\n    required: false,\n    default: false,\n  },\n  ingredients: [new Schema({\n    _idMaterial: {\n      type: Schema.Types.ObjectId,\n      ref: 'Material',\n      required: [true, 'Defina un id de material como ingrediente']\n    },\n    qty: {\n      type: Number,\n      required: [true, 'Defina la cantidad a utilizar del material']\n    },\n    _idLocation: {\n      ref: 'Location',\n      type: Schema.Types.ObjectId\n    }\n  })],\n  productionLineUse: [{\n    ref: 'ProductionLine',\n    type: Schema.Types.ObjectId,\n    required: [true, 'Defina la productionLineUse a utilizar del material']\n  }],\n}, {\n  timestamps: true,\n  versionKey: false\n})\n\nrecipeSchema.plugin(AutoIncrement, {\n  inc_field: '_idControllerRecipe',\n  start_seq: 0\n});\n\n\nconst Recipe = model('Recipe', recipeSchema);\nmodule.exports = Recipe\n"],"mappings":";;AAAA,eAAoCA,OAAO,CAAC,UAAD,CAA3C;AAAA,IAAQC,MAAR,YAAQA,MAAR;AAAA,IAAgBC,KAAhB,YAAgBA,KAAhB;AAAA,IAAuBC,QAAvB,YAAuBA,QAAvB;;AACA,IAAMC,aAAa,GAAGJ,OAAO,CAAC,mBAAD,CAAP,CAA6BG,QAA7B,CAAtB;;AAEA,IAAME,YAAY,GAAGJ,MAAM,CAAC;EAC1BK,IAAI,EAAE;IACJC,IAAI,EAAEC,MADF;IAEJC,MAAM,EAAE,CAAC,IAAD,EAAO,uCAAP,CAFJ;IAGJC,QAAQ,EAAE,CAAC,IAAD,EAAO,uCAAP;EAHN,CADoB;EAM1BC,QAAQ,EAAE;IACRJ,IAAI,EAAEK,MADE;IAERF,QAAQ,EAAE,CAAC,IAAD,EAAO,4BAAP,CAFF;IAGRD,MAAM,EAAE,CAAC,IAAD,EAAO,2CAAP;EAHA,CANgB;EAW1BI,mBAAmB,EAAE;IACnB,WAAS,CADU;IAEnBN,IAAI,EAAEK,MAFa;IAGnBF,QAAQ,EAAE,IAHS;IAInBD,MAAM,EAAE,CAAC,IAAD,EAAO,mDAAP;EAJW,CAXK;EAiB1BK,OAAO,EAAE;IACPP,IAAI,EAAEQ,OADC;IAEPL,QAAQ,EAAE,CAAC,IAAD,EAAO,+DAAP,CAFH;IAGP,WAAS;EAHF,CAjBiB;EAsB1BM,IAAI,EAAE;IACJT,IAAI,EAAEQ,OADF;IAEJL,QAAQ,EAAE,KAFN;IAGJ,WAAS;EAHL,CAtBoB;EA2B1BO,WAAW,EAAE,CAAC,IAAIhB,MAAJ,CAAW;IACvBiB,WAAW,EAAE;MACXX,IAAI,EAAEN,MAAM,CAACkB,KAAP,CAAaC,QADR;MAEXC,GAAG,EAAE,UAFM;MAGXX,QAAQ,EAAE,CAAC,IAAD,EAAO,2CAAP;IAHC,CADU;IAMvBY,GAAG,EAAE;MACHf,IAAI,EAAEK,MADH;MAEHF,QAAQ,EAAE,CAAC,IAAD,EAAO,4CAAP;IAFP,CANkB;IAUvBa,WAAW,EAAE;MACXF,GAAG,EAAE,UADM;MAEXd,IAAI,EAAEN,MAAM,CAACkB,KAAP,CAAaC;IAFR;EAVU,CAAX,CAAD,CA3Ba;EA0C1BI,iBAAiB,EAAE,CAAC;IAClBH,GAAG,EAAE,gBADa;IAElBd,IAAI,EAAEN,MAAM,CAACkB,KAAP,CAAaC,QAFD;IAGlBV,QAAQ,EAAE,CAAC,IAAD,EAAO,qDAAP;EAHQ,CAAD;AA1CO,CAAD,EA+CxB;EACDe,UAAU,EAAE,IADX;EAEDC,UAAU,EAAE;AAFX,CA/CwB,CAA3B;AAoDArB,YAAY,CAACsB,MAAb,CAAoBvB,aAApB,EAAmC;EACjCwB,SAAS,EAAE,qBADsB;EAEjCC,SAAS,EAAE;AAFsB,CAAnC;AAMA,IAAMC,MAAM,GAAG5B,KAAK,CAAC,QAAD,EAAWG,YAAX,CAApB;AACA0B,MAAM,CAACC,OAAP,GAAiBF,MAAjB"}